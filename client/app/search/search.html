<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
    <form class="form-inline">
        <div class="form-group">
            <select ng-model="search.freeSwitchAddress" ng-options="env as env for env in dropdown.environments">
                <option value="">Environment</option>
            </select>
        </div>
        <div class="form-group">
            <select ng-model="search.name" ng-options="agent as agent for agent in dropdown.agents">
                <option value="">Agent</option>
            </select>
        </div>
        <div class="form-group">
            <select ng-model="search.logTypes" ng-options="log as log for log in dropdown.logTypes">
                <option value="">Log Type</option>
            </select>
        </div>
        <div class="form-group">
            <input type="text" ng-model="search.date.from" class="form-control" placeholder="Date From">
        </div>
        <div class="form-group">
            <input type="text" ng-model="search.date.to" class="form-control" placeholder="Date To">
        </div>
        <div class="form-group">
            <input type="text" ng-model="search.number" class="form-control" placeholder="Phone Number">
        </div>
        <div class="form-group">
            <input type="text" ng-model="search.duration" class="form-control" placeholder="Min Websocket Duration">
        </div>
        <div class="form-group">
            <div class="checkbox">
                <label>
                    <input type="checkbox" ng-model="search.ping">Include Pings?
                </label>
            </div>
        </div>
        <button type="submit" class="btn btn-default" ng-click="goSearch()">Search</button>
    </form>
    <div class="panel panel-primary agentContainer" ng-repeat="agent in searchResult">
        <div class="panel-heading">{{agent.agent.name}}</div>
        <div class="panel-body">
            <p ng-hide="agent.agentExtension==undefined||agent.agentExtension == ''">Extension:{{agent.agentExtension}}</p>
            <p ng-hide="agent.logType==undefined||agent.agentExtension == ''">Log Type:{{agent.logType}} </p>
            <p ng-hide="agent.error.errorType == undefined||agent.error.errorType == ''">Error:{{agent.error.errorType}} </p>
            <p ng-hide="agent.error.errorMessage == undefined||agent.error.errorMessage == ''">Error detail:{{agent.error.errorMessage}} </p>
            <p ng-hide="agent.callInfo.Calldirection==undefined||agent.callInfo.Calldirection == ''">Direction:{{agent.callInfo.Calldirection}} </p>
            <p ng-hide="agent.callInfo.number==undefined||agent.callInfo.number==0">Number:{{agent.callInfo.number}} </p>
            <p ng-hide="agent.callInfo.callType==undefined||agent.callInfo.callType==0">Call Type:{{agent.callInfo.callType}} </p>
            <p ng-hide="agent.callInfo.duration == undefined||agent.callInfo.duration==0">Call Duration:{{agent.callInfo.duration}} </p>
            <p ng-hide="agent.webSocket.webSocketFunction==undefined||agent.webSocket.webSocketFunction == ''">Function:{{agent.webSocket.webSocketFunction}} </p>
            <p ng-hide="agent.webSocket.webSocketBody==undefined||agent.webSocket.webSocketBody == ''">webSockect Body:{{agent.webSocket.webSocketBody}} </p>
            <p ng-hide="agent.webSocket.duration==undefined||agent.webSocket.duration == ''">WebSockectDuration:{{agent.webSocket.duration}} </p>
            <p ng-hide="agent.webSocket.confirmation==undefined||agent.webSocket.confirmation == ''">webSocketConfirmation:{{agent.webSocket.confirmation}}</p>
            <p ng-hide="agent.status.newStatus==undefined||agent.status.newStatus == ''">Activie Status:{{agent.status.newStatus}} </p>
            <p ng-hide="agent.status.statusDuration==undefined||agent.status.statusDuration==0">Active Duration:{{agent.status.statusDuration}} </p>
            <p ng-hide="agent.status.previewsStatus==undefined||agent.status.previewsStatus == ''">Previews Status:{{agent.status.previewsStatus}} </p>
            <p ng-hide="agent.freeSwitch.duration==undefined||agent.freeSwitch.duration == ''">Freeswitch Duration:{{agent.freeSwitch.duration}} </p>
            <p ng-hide="agent.timeStamp==undefined||agent.timeStamp == ''">timeStamp:{{agent.timeStamp | date:'medium': UTC }} </p>
            <p ng-hide="agent.ip.agent==undefined||agent.ip.agent == ''">Ip:{{agent.agent.ip}} </p>
            <p ng-hide="agent.freeSwitchAddress==undefined||agent.freeSwitchAddress == ''">freeSwitch:{{agent.freeSwitchAddress}} </p>
            <p ng-hide="agent.webSocket==undefined||agent.webSocket == ''">WebSocket:{{agent.webSocket}} </p>
            <p ng-hide="agent.uuId==undefined||agent.uuId == ''">UUID:{{agent.uuId}} </p>
        </div>
    </div>
</div>

<footer class="footer">
    <div class="container">
        <p>CopyRight @TMS |
            <a href="#">@Farzad Aziminia</a> |</p>
    </div>
</footer>